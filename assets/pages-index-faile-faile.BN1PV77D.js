var ee=Object.defineProperty,ae=Object.defineProperties;var se=Object.getOwnPropertyDescriptors;var U=Object.getOwnPropertySymbols;var te=Object.prototype.hasOwnProperty,oe=Object.prototype.propertyIsEnumerable;var E=(r,l,s)=>l in r?ee(r,l,{enumerable:!0,configurable:!0,writable:!0,value:s}):r[l]=s,B=(r,l)=>{for(var s in l||(l={}))te.call(l,s)&&E(r,s,l[s]);if(U)for(var s of U(l))oe.call(l,s)&&E(r,s,l[s]);return r},I=(r,l)=>ae(r,se(l));var j=(r,l,s)=>new Promise((p,g)=>{var _=u=>{try{y(s.next(u))}catch(h){g(h)}},i=u=>{try{y(s.throw(u))}catch(h){g(h)}},y=u=>u.done?p(u.value):Promise.resolve(u.value).then(_,i);y((s=s.apply(r,l)).next())});import{T,U as R,V as D,W as le,d as O,c as F,X as P,Y as N,Z as ne,r as b,a as C,o as v,w as e,g as a,$ as H,j as L,h as re,a0 as M,B as q,i as J,a1 as ce,p as K,u as ie,x as ue,b as G,e as $,f as S,_ as de,J as _e,l as z,R as me,K as fe,M as pe,a2 as ge,k as c,t as f,z as ye,n as he,a3 as we,S as ve}from"./index-BFESJqT6.js";import{_ as ke}from"./wd-tag.B8s1AwAh.js";import{_ as be}from"./z-paging.DFrcygJ9.js";import{u as Ce,o as $e}from"./jdwl.28qN5MSr.js";import{T as Se}from"./TopHeader.Cms7bPsr.js";import"./vue-query.B9vfsHwb.js";const Le=I(B({},le),{customImage:D(""),src:String,previewSrc:String,round:T(!1),mode:D("scaleToFill"),lazyLoad:T(!1),width:R,height:R,radius:R,enablePreview:T(!1),showMenuByLongpress:T(!1)}),Te={name:"wd-img",options:{virtualHost:!0,addGlobalClass:!0,styleIsolation:"shared"}},ze=O(I(B({},Te),{props:Le,emits:["error","click","load"],setup(r,{emit:l}){const s=r,p=l,g=F(()=>{const o={};return P(s.height)&&(o.height=N(s.height)),P(s.width)&&(o.width=N(s.width)),P(s.radius)&&(o["border-radius"]=N(s.radius),o.overflow="hidden"),`${ne(o)}${s.customStyle}`}),_=F(()=>`wd-img  ${s.round?"is-round":""} ${s.customClass}`),i=b("loading");function y(o){i.value="error",p("error",o)}function u(o){s.enablePreview&&s.src&&i.value=="success"&&ce({urls:[s.previewSrc||s.src]}),p("click",o)}function h(o){i.value="success",p("load",o)}return(o,V)=>{const x=re,d=J;return v(),C(d,{class:q(_.value),onClick:u,style:M(g.value)},{default:e(()=>[a(x,{class:q(`wd-img__image ${o.customImage}`),style:M(i.value!=="success"?"width: 0;height: 0;":""),src:o.src,mode:o.mode,"show-menu-by-longpress":o.showMenuByLongpress,"lazy-load":o.lazyLoad,onLoad:h,onError:y},null,8,["class","style","src","mode","show-menu-by-longpress","lazy-load"]),i.value==="loading"?H(o.$slots,"loading",{key:0},void 0,!0):L("",!0),i.value==="error"?H(o.$slots,"error",{key:1},void 0,!0):L("",!0)]),_:3},8,["class","style"])}}})),xe=K(ze,[["__scopeId","data-v-aca9eb20"]]),Be=O({__name:"faile",setup(r){const l=ie(),s=b(l.userInfo.user.channelName),p=b(l.userInfo.user.nickName),g=b(),_=b([]),i=b([]);ue(()=>{y()});const y=()=>j(this,null,function*(){const d=yield Ce({params:{dictType:"jdwl_need_type"}});i.value=d.data}),u=d=>{const w=i.value.find(t=>t.dictValue===d);return w?w.dictLabel:d};function h(d,w){$e({params:{pageNum:d,pageSize:w,holdResult:"待处理"}}).then(t=>{var k;t.code===200&&(_.value=t.rows,(k=g.value)==null||k.complete(_.value))})}function o(d){he({url:`/pages-index/faile/fail-detail?id=${d.id}`})}function V(){we({url:"/pages/index/index"})}function x(){ve()}return(d,w)=>{const t=J,k=$(S("wd-tag"),ke),m=ye,Q=$(S("wd-icon"),de),W=$(S("wd-img"),xe),X=$(S("wd-button"),_e),Y=$(S("z-paging"),be),Z=G("layout-default-uni"),A=G("global-ku-root");return v(),C(A,null,{default:e(()=>[a(Z,null,{default:e(()=>[a(t,{class:"fail-page min-h-screen bg-[#f5f5f5]"},{default:e(()=>[a(Se,{title:z(s),subtitle:z(p),onBack:x},null,8,["title","subtitle"]),a(t,{class:"list-container"},{default:e(()=>[a(Y,{ref_key:"paging",ref:g,modelValue:z(_),"onUpdate:modelValue":w[0]||(w[0]=n=>me(_)?_.value=n:null),onQuery:h,"use-page-scroll":!0,"empty-view-style":{paddingTop:"200rpx"}},{empty:e(()=>[a(t,{class:"empty-container"},{default:e(()=>[a(t,{class:"empty-content"},{default:e(()=>[a(t,{class:"empty-icon"},{default:e(()=>[a(W,{src:"/static/images/empty.png",mode:"widthFix",width:"80",height:"80"})]),_:1}),a(t,{class:"empty-text"},{default:e(()=>[c('当前暂无"挽留需求"处理')]),_:1}),a(t,{class:"empty-action"},{default:e(()=>[a(X,{type:"primary",size:"medium",onClick:V},{default:e(()=>[c("返回首页")]),_:1})]),_:1})]),_:1})]),_:1})]),default:e(()=>[(v(!0),fe(pe,null,ge(z(_),n=>(v(),C(t,{key:n.id,class:"list-item",onClick:Ie=>o(n)},{default:e(()=>[a(t,{class:"item-content"},{default:e(()=>[a(t,{class:"item-header"},{default:e(()=>[a(t,{class:"item-title"},{default:e(()=>[c(f(u(n.needType)),1)]),_:2},1024),a(t,{class:"item-status"},{default:e(()=>[n.holdResult==="失败"?(v(),C(k,{key:0,"custom-class":"space",type:"danger",mark:""},{default:e(()=>[c(f(n.holdResult),1)]),_:2},1024)):L("",!0),n.holdResult==="待处理"?(v(),C(k,{key:1,"custom-class":"space",type:"warning",mark:""},{default:e(()=>[c(f(n.holdResult),1)]),_:2},1024)):L("",!0),n.holdResult==="成功"?(v(),C(k,{key:2,"custom-class":"space",type:"success",mark:""},{default:e(()=>[c(f(n.holdResult),1)]),_:2},1024)):L("",!0)]),_:2},1024)]),_:2},1024),a(t,{class:"item-info"},{default:e(()=>[a(t,{class:"info-row"},{default:e(()=>[a(m,{class:"info-label"},{default:e(()=>[c("客户姓名：")]),_:1}),a(m,{class:"info-value"},{default:e(()=>[c(f(n.customerName),1)]),_:2},1024)]),_:2},1024),a(t,{class:"info-row"},{default:e(()=>[a(m,{class:"info-label"},{default:e(()=>[c("客户电话：")]),_:1}),a(m,{class:"info-value"},{default:e(()=>[c(f(n.customerPhone),1)]),_:2},1024)]),_:2},1024),a(t,{class:"info-row"},{default:e(()=>[a(m,{class:"info-label"},{default:e(()=>[c("所在地址：")]),_:1}),a(m,{class:"info-value"},{default:e(()=>[c(f(n.address||"--"),1)]),_:2},1024)]),_:2},1024),a(t,{class:"info-row"},{default:e(()=>[a(m,{class:"info-label"},{default:e(()=>[c("提交时间：")]),_:1}),a(m,{class:"info-value"},{default:e(()=>[c(f(n.createTime),1)]),_:2},1024)]),_:2},1024)]),_:2},1024),a(t,{class:"item-arrow"},{default:e(()=>[a(Q,{name:"arrow-right",size:"16",color:"#C7C7CC"})]),_:1})]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1})}}}),De=K(Be,[["__scopeId","data-v-18a4b505"]]);export{De as default};
